REPLACE_STATE_TRIGGER BARDOL 0 ~NumTimesTalkedTo(0)~


REPLACE_ACTION_TEXT BARDOL
~EscapeArea\(Destroy\)?([0-9]*)~
~MoveToPoint([1104.722]) Face(11)~


APPEND BARDOL

IF ~StateCheck(Myself,STATE_CHARMED)~ THEN JA#BARDOL_1
  SAY @0
  IF ~~ THEN EXIT
END

IF ~Dead("Mulahey") Global("JA#BARDOL_MULAHEY","LOCALS",0)~ THEN JA#BARDOL_2
  SAY @1
  IF ~~ THEN REPLY @2 DO ~SetGlobal("JA#BARDOL_MULAHEY","LOCALS",1)~ EXIT
  IF ~~ THEN REPLY @3 DO ~SetGlobal("JA#BARDOL_MULAHEY","LOCALS",1)~ GOTO JA#BARDOL_5
END

IF ~Global("JA#BARDOL_MULAHEY","LOCALS",0)~ THEN JA#BARDOL_3
  SAY @4
  IF ~~ THEN REPLY @2 EXIT
  IF ~~ THEN REPLY @3 GOTO JA#BARDOL_5
END

IF ~Global("JA#BARDOL_MULAHEY","LOCALS",1)~ THEN JA#BARDOL_4
  SAY @5
  IF ~~ THEN REPLY @2 EXIT
  IF ~~ THEN REPLY @3 GOTO JA#BARDOL_5
END

IF ~~ THEN JA#BARDOL_5
  SAY @6
  IF ~Global("MetBrage","GLOBAL",0)~ THEN REPLY @7 JOURNAL @1040 GOTO JA#BARDOL_6
  IF ~!Dead("Mulahey")~ THEN REPLY @9 JOURNAL @1039 GOTO JA#BARDOL_7
  IF ~~ THEN REPLY @11 GOTO JA#BARDOL_8
  IF ~~ THEN REPLY @12 EXIT
END

IF ~~ THEN JA#BARDOL_6
  SAY @13 = @14
  IF ~~ THEN REPLY @15 GOTO JA#BARDOL_5
  IF ~~ THEN REPLY @16 EXIT
END

IF ~~ THEN JA#BARDOL_7
  SAY @17
  IF ~~ THEN REPLY @15 GOTO JA#BARDOL_5
  IF ~~ THEN REPLY @16 EXIT
END

IF ~~ THEN JA#BARDOL_8
  SAY @18 = @19
  IF ~~ THEN REPLY @15 GOTO JA#BARDOL_5
  IF ~~ THEN REPLY @16 EXIT
END

END // APPEND BARDOL
